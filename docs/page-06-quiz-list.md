# 6. クイズ一覧ページ

## 概要
ユーザーが作成したすべてのクイズを管理するためのページ。クイズの作成、検索、フィルタリング、並べ替え、編集、削除などの機能を提供する。

## ページ構成
1. **ページヘッダー**
   - 「クイズ管理」タイトル
   - 「新規クイズ作成」主要CTAボタン
   - 表示切替（リスト/グリッド）
   - ページあたりの表示件数選択

2. **検索・フィルターバー**
   - 検索入力フィールド
   - フィルタードロップダウン
     - 作成日
     - 最終更新日
     - ステータス（下書き/公開済み）
     - タグ
   - 並べ替えドロップダウン
     - 名前（昇順/降順）
     - 作成日（最新/最古）
     - 回答数（多い/少ない）
     - スコア（高い/低い）

3. **クイズリスト/グリッド**
   - 各クイズカード/行に表示する情報：
     - クイズタイトル
     - ステータス（下書き/公開済み）
     - 作成日/更新日
     - 問題数
     - 回答数
     - 平均スコア
     - タグ
   - アクションボタン：
     - 編集
     - プレビュー
     - 複製
     - 共有
     - 削除

4. **ページネーション**
   - 前へ/次へボタン
   - ページ番号リンク
   - 総クイズ数表示

5. **新規クイズ作成モーダル**
   - タイトル入力
   - 説明入力
   - 採点モード選択（自動/手動）
   - 共有モード選択（URL/パスワード保護）
   - 「作成して編集へ進む」ボタン
   - 「テンプレートから作成」オプション（プロプラン）

6. **バルク操作ツールバー**
   - 複数選択チェックボックス
   - バルク操作ドロップダウン（削除、タグ付け、エクスポートなど）

## 技術仕様
- **コンポーネント構成**
  - `QuizListHeader.tsx`
  - `SearchAndFilterBar.tsx`
  - `QuizCard.tsx` / `QuizListItem.tsx`
  - `PaginationControls.tsx`
  - `CreateQuizModal.tsx`
  - `BulkActionToolbar.tsx`

- **状態管理**
  - `useQuizListStore.ts` - Zustandストア
    - 表示モード（リスト/グリッド）
    - 検索・フィルター条件
    - 並び替え条件
    - 選択されたクイズIDs
  - TanStack Query
    - クイズ一覧取得
    - ページネーション処理

- **データフェッチング**
  ```typescript
  const {
    data,
    isLoading,
    error,
    fetchNextPage,
    hasNextPage,
  } = useInfiniteQuery(
    ['quizzes', searchParams],
    ({ pageParam = 0 }) => fetchQuizzes(searchParams, pageParam),
    {
      getNextPageParam: (lastPage) => lastPage.nextCursor,
      keepPreviousData: true,
    }
  );
  ```

- **レスポンシブ設計**
  - モバイル: 1カラムリスト表示、省略可能な情報を非表示
  - タブレット: 2カラムグリッドまたは拡張リスト表示
  - デスクトップ: 3-4カラムグリッドまたは詳細リスト表示

- **パフォーマンス最適化**
  - ウインドウイング（仮想化リスト）実装
  - 検索・フィルター処理のデバウンス
  - 無限スクロールの実装

## Next.js移行考慮事項
- リスト表示のデータフェッチはServer Componentで実装
- 検索・フィルター・ソート機能はServer Actionsで実装
- クライアント状態（選択、表示モードなど）のみをクライアントコンポーネントで管理